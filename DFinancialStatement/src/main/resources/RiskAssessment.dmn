<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/"
             xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/"
             xmlns:dc="http://www.omg.org/spec/DMN/20180521/DC/"
             xmlns:modeler="http://camunda.org/schema/modeler/1.0"
             id="DecisionRiskAssessment"
             name="RiskAssessment"
             namespace="http://camunda.org/schema/1.0/dmn"
             exporter="Camunda Modeler"
             exporterVersion="5.31.0"
             modeler:executionPlatform="Camunda Platform"
             modeler:executionPlatformVersion="7.22.0">

  <decision id="RiskAssessmentDecision" name="Risk Assessment">
    <decisionTable id="DecisionTable_1" hitPolicy="FIRST">
      <!-- Inputs -->
      <input id="inputRatioEndettement">
        <inputExpression id="InputExpression_1" typeRef="number">
          <text>ratioEndettement</text>
        </inputExpression>
      </input>
      <input id="inputRatioLiquiditeGenerale">
        <inputExpression id="InputExpression_2" typeRef="number">
          <text>ratioLiquiditeGenerale</text>
        </inputExpression>
      </input>
      <input id="inputRatioSolvabilite">
        <inputExpression id="InputExpression_3" typeRef="number">
          <text>ratioSolvabilite</text>
        </inputExpression>
      </input>

      <!-- Output -->
      <!-- Pour accéder au résultat avec la clé "Risk", on ajoute l'attribut name="Risk" -->
      <output id="outputRisk" name="Risk" label="Risk" typeRef="string" />

      <!-- Règles Principales -->
      <rule id="Rule_Critique">
        <inputEntry id="InputEntry_1"><text>&gt; 2</text></inputEntry>
        <inputEntry id="InputEntry_2"><text>&lt; 1</text></inputEntry>
        <inputEntry id="InputEntry_3"><text>&lt; 1</text></inputEntry>
        <outputEntry id="OutputEntry_1"><text>"Élevé"</text></outputEntry>
      </rule>

      <rule id="Rule_HautRisque">
        <inputEntry id="InputEntry_4"><text>&gt; 2</text></inputEntry>
        <inputEntry id="InputEntry_5"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_6"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_2"><text>"Élevé"</text></outputEntry>
      </rule>

      <rule id="Rule_RisqueModere1">
        <inputEntry id="InputEntry_7"><text>&gt;= 1.5, &lt;= 2</text></inputEntry>
        <inputEntry id="InputEntry_8"><text>&lt; 1</text></inputEntry>
        <inputEntry id="InputEntry_9"><text>&lt; 1</text></inputEntry>
        <outputEntry id="OutputEntry_3"><text>"Modéré"</text></outputEntry>
      </rule>

      <rule id="Rule_RisqueModere2">
        <inputEntry id="InputEntry_10"><text>&lt;= 1.5</text></inputEntry>
        <inputEntry id="InputEntry_11"><text>&gt;= 0.8, &lt;= 1</text></inputEntry>
        <inputEntry id="InputEntry_12"><text>&gt;= 0.9, &lt;= 1.5</text></inputEntry>
        <outputEntry id="OutputEntry_4"><text>"Modéré"</text></outputEntry>
      </rule>

      <rule id="Rule_FaibleRisque">
        <inputEntry id="InputEntry_13"><text>&lt;= 1</text></inputEntry>
        <inputEntry id="InputEntry_14"><text>&gt;= 1.2</text></inputEntry>
        <inputEntry id="InputEntry_15"><text>&gt; 1.5</text></inputEntry>
        <outputEntry id="OutputEntry_5"><text>"Faible"</text></outputEntry>
      </rule>

      <!-- Règle par défaut -->
      <rule id="Rule_Default">
        <inputEntry id="InputEntry_16"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_17"><text>-</text></inputEntry>
        <inputEntry id="InputEntry_18"><text>-</text></inputEntry>
        <outputEntry id="OutputEntry_6"><text>"Non classé"</text></outputEntry>
      </rule>
    </decisionTable>
  </decision>

  <dmndi:DMNDI>
    <dmndi:DMNDiagram>
      <dmndi:DMNShape dmnElementRef="RiskAssessmentDecision">
        <dc:Bounds height="80" width="180" x="160" y="100" />
      </dmndi:DMNShape>
    </dmndi:DMNDiagram>
  </dmndi:DMNDI>
</definitions>
