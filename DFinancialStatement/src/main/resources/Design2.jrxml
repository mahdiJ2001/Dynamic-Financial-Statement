<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.21.3.final using JasperReports Library version 6.21.3-4a3078d20785ebe464f18037d738d12fc98c13cf  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="BilanFinancier_Redesigned" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="30" rightMargin="30" topMargin="20" bottomMargin="20" uuid="a1234567-89ab-cdef-0123-456789abcdef">
    <property name="com.jaspersoft.studio.data.defaultdataadapter" value="JsonDataAdapter.xml.jrdax"/>
    <property name="com.jaspersoft.studio.unit." value="pixel"/>
    <style name="Title" forecolor="#D84315" fontName="DejaVu Sans" fontSize="22" isBold="true" pdfFontName="Helvetica-Bold"/>
    <style name="SectionHeader" forecolor="#BF360C" backcolor="#FFCCBC" fontName="DejaVu Sans" fontSize="12" isBold="true" pdfFontName="Helvetica-Bold">
        <box>
            <pen lineWidth="0.7" lineColor="#BF360C"/>
        </box>
        <paragraph leftIndent="5"/>
    </style>
    <style name="Total" forecolor="#388E3C" fontName="DejaVu Sans" fontSize="12" isBold="true" pdfFontName="Helvetica-Bold"/>
    <style name="Label" fontName="DejaVu Sans" fontSize="10" pdfFontName="Helvetica">
        <box>
            <bottomPen lineWidth="0.7" lineStyle="Dotted" lineColor="#BDBDBD"/>
        </box>
        <paragraph leftIndent="5"/>
    </style>
    <style name="Value" fontName="DejaVu Sans" fontSize="10" pdfFontName="Helvetica">
        <box>
            <bottomPen lineWidth="0.7" lineStyle="Dotted" lineColor="#BDBDBD"/>
        </box>
        <paragraph rightIndent="5"/>
    </style>
    <style name="CategoryHeader" mode="Opaque" forecolor="#FFFFFF" backcolor="#E64A19" fontName="DejaVu Sans" fontSize="12" isBold="true" pdfFontName="Helvetica-Bold">
        <box>
            <pen lineWidth="0.7" lineColor="#BF360C"/>
        </box>
        <paragraph leftIndent="5" spacingBefore="3" spacingAfter="3"/>
    </style>
    <style name="SignatureBlock" fontName="DejaVu Sans" fontSize="10" pdfFontName="Helvetica">
        <box>
            <topPen lineWidth="1.0" lineStyle="Solid" lineColor="#BDBDBD"/>
        </box>
        <paragraph leftIndent="5" spacingBefore="30"/>
    </style>
    <subDataset name="ActifDataset" uuid="0b543b91-3eb0-4ac3-9f8e-983f22ed77e2">
        <field name="name" class="java.lang.String"/>
        <field name="fields" class="java.util.Collection"/>
    </subDataset>
    <subDataset name="PassifDataset" uuid="7d3d328a-9dc7-4f1b-a1de-fb69b464023e">
        <field name="name" class="java.lang.String"/>
        <field name="fields" class="java.util.Collection"/>
    </subDataset>
    <subDataset name="FieldsDataset" uuid="fc8f19cd-84d4-4387-b2b5-7bddd4d1d1a8">
        <field name="label" class="java.lang.String"/>
        <field name="value" class="java.lang.Number"/>
    </subDataset>
    <parameter name="COMPANY_NAME" class="java.lang.String" isForPrompting="false">
        <defaultValueExpression><![CDATA["Entreprise XYZ"]]></defaultValueExpression>
    </parameter>
    <parameter name="REPORT_DATE" class="java.lang.String" isForPrompting="false">
        <defaultValueExpression><![CDATA[new java.text.SimpleDateFormat("dd/MM/yyyy").format(new java.util.Date())]]></defaultValueExpression>
    </parameter>
    <parameter name="LOGO" class="java.awt.Image" isForPrompting="false"/>
    <field name="actif" class="java.util.Collection"/>
    <field name="passif" class="java.util.Collection"/>
    <variable name="TOTAL_ACTIF" class="java.lang.Double">
        <variableExpression><![CDATA[((Collection)$F{actif}).stream()
      .mapToDouble(actifItem -> {
          com.pfe.DFinancialStatement.report_generation.json_structure.Actif a = (com.pfe.DFinancialStatement.report_generation.json_structure.Actif)actifItem;
          return a.getFields().stream()
                    .mapToDouble(field -> field.getValue())
                    .sum();
      })
      .sum()]]></variableExpression>
        <initialValueExpression><![CDATA[0.0]]></initialValueExpression>
    </variable>
    <variable name="TOTAL_PASSIF" class="java.lang.Double">
        <variableExpression><![CDATA[((Collection)$F{passif}).stream()
      .mapToDouble(passifItem -> {
          com.pfe.DFinancialStatement.report_generation.json_structure.Passif p = (com.pfe.DFinancialStatement.report_generation.json_structure.Passif)passifItem;
          return p.getFields().stream()
                    .mapToDouble(field -> field.getValue())
                    .sum();
      })
      .sum()]]></variableExpression>
        <initialValueExpression><![CDATA[0.0]]></initialValueExpression>
    </variable>
    <background>
        <band height="802" splitType="Stretch">
            <rectangle>
                <reportElement mode="Transparent" x="0" y="0" width="535" height="802" backcolor="#FFFFFF" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <graphicElement>
                    <pen lineWidth="0.7" lineColor="#E0E0E0"/>
                </graphicElement>
            </rectangle>
        </band>
    </background>
    <title>
        <band height="100" splitType="Stretch">
            <rectangle>
                <reportElement mode="Opaque" x="0" y="0" width="535" height="90" backcolor="#FCFCFC" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <graphicElement>
                    <pen lineWidth="0.7" lineColor="#BF360C"/>
                </graphicElement>
            </rectangle>
            <image>
                <reportElement x="10" y="10" width="70" height="70" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e">
                    <printWhenExpression><![CDATA[$P{LOGO} != null]]></printWhenExpression>
                </reportElement>
                <imageExpression><![CDATA[$P{LOGO}]]></imageExpression>
            </image>
            <textField>
                <reportElement style="Title" x="90" y="20" width="435" height="30" forecolor="#BF360C" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Arial" isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA[$P{COMPANY_NAME} + " - BILAN FINANCIER"]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="80" y="50" width="435" height="20" forecolor="#E64A19" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Arial" size="12" isItalic="true"/>
                </textElement>
                <textFieldExpression><![CDATA["Établi au " + $P{REPORT_DATE}]]></textFieldExpression>
            </textField>
        </band>
    </title>
    <pageHeader>
        <band height="20" splitType="Stretch"/>
    </pageHeader>
    <detail>
        <band height="30" splitType="Stretch">
            <printWhenExpression><![CDATA[Boolean.TRUE]]></printWhenExpression>
            <staticText>
                <reportElement style="CategoryHeader" x="0" y="5" width="267" height="25" backcolor="#E64A19" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <box>
                    <pen lineWidth="0.7" lineColor="#BF360C"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Arial" isBold="true"/>
                </textElement>
                <text><![CDATA[ACTIF]]></text>
            </staticText>
            <staticText>
                <reportElement style="CategoryHeader" x="267" y="5" width="267" height="25" backcolor="#E64A19" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <box>
                    <pen lineWidth="0.7" lineColor="#BF360C"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Arial" isBold="true"/>
                </textElement>
                <text><![CDATA[PASSIF]]></text>
            </staticText>
        </band>
        <band height="250" splitType="Stretch">
            <componentElement>
                <reportElement stretchType="ElementGroupHeight" x="0" y="0" width="267" height="250" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
                    <datasetRun subDataset="ActifDataset" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e">
                        <dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource((Collection)$F{actif})]]></dataSourceExpression>
                    </datasetRun>
                    <jr:listContents height="45" width="267">
                        <rectangle>
                            <reportElement mode="Opaque" x="0" y="0" width="267" height="25" backcolor="#FFE0B2" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                            <graphicElement>
                                <pen lineWidth="0.7" lineColor="#BF360C"/>
                            </graphicElement>
                        </rectangle>
                        <textField>
                            <reportElement style="SectionHeader" x="0" y="0" width="267" height="25" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                            <box>
                                <pen lineWidth="0.7" lineColor="#BF360C"/>
                            </box>
                            <textElement textAlignment="Left" verticalAlignment="Middle">
                                <font fontName="Arial"/>
                            </textElement>
                            <textFieldExpression><![CDATA[$F{name}]]></textFieldExpression>
                        </textField>
                        <componentElement>
                            <reportElement stretchType="ContainerHeight" x="0" y="25" width="267" height="20" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                            <jr:list printOrder="Vertical">
                                <datasetRun subDataset="FieldsDataset" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e">
                                    <dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource((Collection)$F{fields})]]></dataSourceExpression>
                                </datasetRun>
                                <jr:listContents height="20" width="267">
                                    <textField>
                                        <reportElement style="Label" x="0" y="0" width="167" height="20" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                                        <box>
                                            <pen lineWidth="0.0"/>
                                            <topPen lineWidth="0.0"/>
                                            <leftPen lineWidth="0.7" lineColor="#BDBDBD"/>
                                            <bottomPen lineWidth="0.7" lineStyle="Dotted" lineColor="#BDBDBD"/>
                                            <rightPen lineWidth="0.0"/>
                                        </box>
                                        <textElement verticalAlignment="Middle">
                                            <font fontName="Arial"/>
                                        </textElement>
                                        <textFieldExpression><![CDATA[$F{label}]]></textFieldExpression>
                                    </textField>
                                    <textField pattern="#,##0.00 €">
                                        <reportElement style="Value" x="167" y="0" width="100" height="20" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                                        <box>
                                            <pen lineWidth="0.0"/>
                                            <topPen lineWidth="0.0"/>
                                            <leftPen lineWidth="0.0"/>
                                            <bottomPen lineWidth="0.7" lineStyle="Dotted" lineColor="#BDBDBD"/>
                                            <rightPen lineWidth="0.7" lineColor="#BDBDBD"/>
                                        </box>
                                        <textElement textAlignment="Right" verticalAlignment="Middle">
                                            <font fontName="Arial"/>
                                        </textElement>
                                        <textFieldExpression><![CDATA[$F{value}]]></textFieldExpression>
                                    </textField>
                                </jr:listContents>
                            </jr:list>
                        </componentElement>
                    </jr:listContents>
                </jr:list>
            </componentElement>
            <componentElement>
                <reportElement stretchType="ElementGroupHeight" x="268" y="0" width="267" height="250" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <jr:list xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd" printOrder="Vertical">
                    <datasetRun subDataset="PassifDataset" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e">
                        <dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource((Collection)$F{passif})]]></dataSourceExpression>
                    </datasetRun>
                    <jr:listContents height="45" width="267">
                        <rectangle>
                            <reportElement mode="Opaque" x="0" y="0" width="267" height="25" backcolor="#FFE0B2" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                            <graphicElement>
                                <pen lineWidth="0.7" lineColor="#BF360C"/>
                            </graphicElement>
                        </rectangle>
                        <textField>
                            <reportElement style="SectionHeader" x="0" y="0" width="267" height="25" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                            <box>
                                <pen lineWidth="0.7" lineColor="#BF360C"/>
                            </box>
                            <textElement textAlignment="Left" verticalAlignment="Middle">
                                <font fontName="Arial"/>
                            </textElement>
                            <textFieldExpression><![CDATA[$F{name}]]></textFieldExpression>
                        </textField>
                        <componentElement>
                            <reportElement stretchType="ContainerHeight" x="0" y="25" width="267" height="20" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                            <jr:list printOrder="Vertical">
                                <datasetRun subDataset="FieldsDataset" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e">
                                    <dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource((Collection)$F{fields})]]></dataSourceExpression>
                                </datasetRun>
                                <jr:listContents height="20" width="267">
                                    <textField>
                                        <reportElement style="Label" x="0" y="0" width="167" height="20" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                                        <box>
                                            <pen lineWidth="0.0"/>
                                            <topPen lineWidth="0.0"/>
                                            <leftPen lineWidth="0.7" lineColor="#BDBDBD"/>
                                            <bottomPen lineWidth="0.7" lineStyle="Dotted" lineColor="#BDBDBD"/>
                                            <rightPen lineWidth="0.0"/>
                                        </box>
                                        <textElement verticalAlignment="Middle">
                                            <font fontName="Arial"/>
                                        </textElement>
                                        <textFieldExpression><![CDATA[$F{label}]]></textFieldExpression>
                                    </textField>
                                    <textField pattern="#,##0.00 €">
                                        <reportElement style="Value" x="167" y="0" width="100" height="20" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                                        <box>
                                            <pen lineWidth="0.0"/>
                                            <topPen lineWidth="0.0"/>
                                            <leftPen lineWidth="0.0"/>
                                            <bottomPen lineWidth="0.7" lineStyle="Dotted" lineColor="#BDBDBD"/>
                                            <rightPen lineWidth="0.7" lineColor="#BDBDBD"/>
                                        </box>
                                        <textElement textAlignment="Right" verticalAlignment="Middle">
                                            <font fontName="Arial"/>
                                        </textElement>
                                        <textFieldExpression><![CDATA[$F{value}]]></textFieldExpression>
                                    </textField>
                                </jr:listContents>
                            </jr:list>
                        </componentElement>
                    </jr:listContents>
                </jr:list>
            </componentElement>
            <line>
                <reportElement x="267" y="0" width="1" height="250" forecolor="#FFFFFF" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <graphicElement>
                    <pen lineWidth="1.0"/>
                </graphicElement>
            </line>
        </band>
    </detail>
    <pageFooter>
        <band height="90" splitType="Stretch">
            <rectangle>
                <reportElement x="0" y="0" width="267" height="60" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <graphicElement>
                    <pen lineWidth="0.7" lineColor="#BDBDBD"/>
                </graphicElement>
            </rectangle>
            <staticText>
                <reportElement style="CategoryHeader" mode="Transparent" x="0" y="0" width="267" height="20" forecolor="#BF360C" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <box>
                    <pen lineWidth="0.0"/>
                    <bottomPen lineWidth="0.7" lineColor="#BDBDBD"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Arial" size="10" isBold="true" isItalic="true"/>
                </textElement>
                <text><![CDATA[Signature du comptable :]]></text>
            </staticText>
            <rectangle>
                <reportElement x="268" y="0" width="267" height="60" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <graphicElement>
                    <pen lineWidth="0.7" lineColor="#BDBDBD"/>
                </graphicElement>
            </rectangle>
            <staticText>
                <reportElement style="CategoryHeader" mode="Transparent" x="268" y="0" width="267" height="20" forecolor="#BF360C" backcolor="#FFFFFF" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <box>
                    <pen lineWidth="0.0"/>
                    <bottomPen lineWidth="0.7" lineColor="#BDBDBD"/>
                </box>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Arial" size="10" isBold="true" isItalic="true"/>
                </textElement>
                <text><![CDATA[Signature du dirigeant :]]></text>
            </staticText>
            <textField>
                <reportElement x="0" y="70" width="535" height="20" forecolor="#757575" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Arial" size="8"/>
                </textElement>
                <textFieldExpression><![CDATA[$P{COMPANY_NAME} + " - Bilan Financier - Page " + $V{PAGE_NUMBER} + " / " + $V{PAGE_NUMBER}]]></textFieldExpression>
            </textField>
        </band>
    </pageFooter>
    <summary>
        <band height="70" splitType="Stretch">
            <rectangle>
                <reportElement mode="Opaque" x="0" y="10" width="535" height="40" backcolor="#FFE0B2" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <graphicElement>
                    <pen lineWidth="0.7" lineColor="#BF360C"/>
                </graphicElement>
            </rectangle>
            <line>
                <reportElement x="267" y="10" width="1" height="40" forecolor="#BDBDBD" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <graphicElement>
                    <pen lineWidth="1.0"/>
                </graphicElement>
            </line>
            <staticText>
                <reportElement style="Total" x="10" y="20" width="157" height="20" forecolor="#913C47" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <textElement textAlignment="Left" verticalAlignment="Middle">
                    <font fontName="Arial" isBold="true"/>
                </textElement>
                <text><![CDATA[TOTAL ACTIF:]]></text>
            </staticText>
            <textField pattern="#,##0.00 €">
                <reportElement style="Total" x="160" y="20" width="100" height="20" forecolor="#913C50" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <textElement textAlignment="Right" verticalAlignment="Middle">
                    <font fontName="Arial"/>
                </textElement>
                <textFieldExpression><![CDATA[$V{TOTAL_ACTIF}]]></textFieldExpression>
            </textField>
            <staticText>
                <reportElement style="Total" x="278" y="20" width="157" height="20" forecolor="#913C47" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <textElement textAlignment="Left" verticalAlignment="Middle">
                    <font fontName="Arial" isBold="true"/>
                </textElement>
                <text><![CDATA[TOTAL PASSIF:]]></text>
            </staticText>
            <textField pattern="#,##0.00 €">
                <reportElement style="Total" x="425" y="20" width="100" height="20" forecolor="#913C50" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <textElement textAlignment="Right" verticalAlignment="Middle">
                    <font fontName="Arial"/>
                </textElement>
                <textFieldExpression><![CDATA[$V{TOTAL_PASSIF}]]></textFieldExpression>
            </textField>
        </band>
    </summary>
    <noData>
        <band height="100">
            <staticText>
                <reportElement x="0" y="30" width="535" height="30" uuid="45c569c2-4a27-4af3-b59a-3bb73e6cd70e"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font fontName="Arial" size="12" isBold="true"/>
                </textElement>
                <text><![CDATA[Aucune donnée disponible pour ce bilan financier.]]></text>
            </staticText>
        </band>
    </noData>
</jasperReport>
